\chapter{\ifcpe ทฤษฎีที่เกี่ยวข้อง\else Background Knowledge and Theory\fi}

การทำโครงงานนี้เริ่มต้นจากการที่เราเล็งเห็นปัญหาของตารางสอบปลายภาคมหาวิทยาลัยเชียงใหม่ในปัจจุบันซึ่งอาจจะสามารถแปลงเป็นปัญหาที่มีวิธีแก้ไขมาแล้วได้ เราจึงเริ่มต้นศึกษาค้นคว้าทฤษฎีที่เกี่ยวข้องที่สามารถแก้ไขปัญหาได้ หรือ งานวิจัย/โครงงาน ที่เคยมีผู้นำเสนอไว้แล้ว
ซึ่งเนื้อหาในบทนี้ก็จะเกี่ยวกับการอธิบายถึงสิ่งที่เกี่ยวข้องกับโครงงาน เพื่อให้ผู้อ่านเข้าใจเนื้อหาในบทถัดๆ ไปได้ง่ายขึ้น
\section{Literature review}
การกำหนดเวลาสอบปลายภาคเพื่อหลีกเลี่ยงปัญหานักศึกษาคนใด ๆ มีเวลาสอบในช่วงเวลาเดียวกันสามารถแปลงปัญหานี้ให้เป็นปัญหา graph coloring ได้ 
โดยที่จุดแต่ละจุดในกราฟเป็นรายวิชาที่เปิดสอนในภาคการศึกษานั้น 
และเส้นที่เชื่อมแต่ละจุดสองจุดในกราฟแสดงถึงว่ามีนักศึกษาที่ลงทะเบียนเรียนทั้งสองรายวิชา โดยจุดสองจุดใด ๆ ในกราฟที่มีเส้นเชื่อมกันจะถูกกำหนดสีให้ต่างกัน
ซึ่งแสดงถึงวันและเวลาที่จัดสอบปลายภาคในวิชานั้น ๆ โดยจุดที่มีคนละสีก็จะถูกจัดให้สอบคนละช่วงเวลากัน

การจะแปลงปัญหาการจัดตารางสอบปลายภาคให้เป็นปัญหา graph coloring นั้นสามารถแปลงให้เป็นปัญหา graph coloring แบบพื้นฐานโดยไม่คำนึงถึงข้อจำกัดอื่น ๆ เท่านั้น\cite{mcs} 
ตัวอย่างเช่น ไม่พิจารณาความจุที่นั่งสำหรับการสอบแต่ละช่วงเวลาของนักศึกษา จำนวนอาจารย์ที่คุมสอบแต่ละช่วงเวลา และการกระจายวิชาสอบสำหรับนักศึกษาแต่ละคน เป็นต้น
ถึงแม้จะไม่กำหนดข้อจำกัดใด ๆ ปัญหา graph coloring ก็เป็นปัญหา NP-complete ด้วยตัวมันเองอยู่แล้ว\cite{alg-design} 
ซึ่งหมายความว่ายังไม่สามารถหาอัลกอริทึมที่ใช้เวลา polynomial-time ในการแก้ไขปัญหาให้ได้ผลลัพธ์ที่เหมาะสมที่สุด 
ทำให้ต้องใช้วิธีอื่นที่ให้ผลลัพธ์ที่ดีในระดับที่ยอมรับได้ แต่สามารถยืนยันได้ว่าจะได้วิธีการที่สามารถแก้ไขปัญหาได้อย่างแน่นอน 
ซึ่งวิธีการนั้นคือ metaheuristic ซึ่งสามารถหาวิธีการแก้ปัญหาที่ดีได้ในระยะเวลาที่เหมาะสม \cite{meta-for-vertexcolor}
และสามารถกำหนดข้อจำกัดหรือเงื่อนไขอื่นเพิ่มเติมได้ ทำให้สามารถกำหนดขอบเขตของผลลัพธ์ได้ แต่อาจจะไม่ได้วิธีแก้ปัญหาที่ดีที่สุด
\section{Tools}
\subsection{Gurobi Optimizer}
เป็น Solver ที่ใช้สำหรับแก้ปัญหา Optimization โดยที่จะเน้นไปทางด้านของปัญหาต่าง ๆ ดังนี้ 
\begin{itemize}
  \item Linear programming (LP)
  \item Mixed-integer linear programming (MILP)
  \item Quadratic programming (QP)
  \item Mixed-integer quadratic programming (MIQP)
  \item Quadratically-constrained programming (QCP)
  \item Mixed-integer quadratically-constrained programming (MIQCP)
\end{itemize}
ผลลัพธ์ที่ได้จาก Gurobi Optimizer อาจนำมาใช้เป็นตัวเปรียบเทียบประสิทธิภาพกับผลลัพธ์การทำงานที่ได้จากอัลกอลิทึมของเรา

\section{algorithm}
\subsection{Metaheuristic algorithms}
\subsection{genetic algorithms}
genetic algorithm  เป็นเทคนิคสำหรับค้นหาผลลัพธ์หรือคำตอบโดยประมาณของปัญหา โดยอาศัยหลักการจากทฤษฎีวิวัฒนาการจากชีววิทยาและหลักการคัดเลือกตามธรรมชาตินั่นคือ 
สิ่งมีชีวิตที่เหมาะสมที่สุดจึงจะอยู่รอด กระบวนการคัดเลือกได้เปลี่ยนแปลงสิ่งมีชีวิตให้เหมาะสมยิ่งขึ้นด้วยตัวปฏิบัติการทางพันธุกรรม เช่น การสืบพันธุ์ , การแลกเปลี่ยนยีน , การกลายพันธุ์  


โดยขั้นตอนการทำงานของ genetic algorithm มีดังนี้ 
\begin{enumerate}
  \item initial population เป็นขั้นตอนการเริ่มต้นอัลกอริทึมด้วยการกำหนดชุดข้อมูลผลลัพธ์ที่ควรจะได้จากการแก้ไขปัญหาซึ่งเรียกชุดข้อมูลนี้ว่า chromosome ข้อมูลนี้อาจจะสุ่มขึ้นมาโดยที่ให้ข้อมูลแต่ละ bit เป็นข้อมูล 0,1 เรียกข้อมูล bit นี้ว่า genes และนำ genes มาต่อกันเป็นสาย chromosome 
  \item fitness function จะเป็น function สำหรับการคัดเลือก chromosome หรือ ข้อมูลที่เหมาะสมให้สามารถอยู่ต่อไปได้ซึ่งจะใช้ fitness scores เป็นเกณฑ์ในการคัดเลือกข้อมูลที่เหมาะสม
  โดยค่า fitness scores จะขึ้นอยู่กับผลลัพธ์ทของอัลกอริทึมควรจะเป็น
  \item genetic operator คือวิธีการในการปรับเปลี่ยนรูปแบบโครงสร้างของชุดข้อมูลที่เหมาะสมสำหรับรุ่นถัดไปซึ่งก็มีวิธีการทำอยู่ 3 แบบหลัก ๆ 
  \begin{itemize}
  \item selection เป็นการเลือกข้อมูลที่เหมาะสมแล้วปล่อยข้อมูลนั้นส่งต่อข้อมูลไปยังรุ่นถัดไป โดยจะเลือกข้อมูลจาก fitness scores
  \item crossover เป็นการสุ่มเลือกข้อมูลแต่ละ bit จากชุดข้อมูลสองตัวเพื่อส่งต่อไปยังรุ่นต่อไป
  \item mutation เป็นการสุ่มข้อมูลบาง bit ของชุดข้อมูลให้มีค่าของข้อมูลตรงข้ามกลับค่าเดิม
\end{itemize}
\end{enumerate}
อัลกอริทึม genetic algorithm จะจบการทำงานหลังจากการวนทำขั้นตอน fitness function และ genetic operator แล้วชุดข้อมูลที่เหมาะสมไม่มีการพัฒนาหรือไม่มีการเปลี่ยนแปลงไปในทางที่ดีขึ้น โดยที่ผลลัพธ์ที่ได้จากอัลกอริทึมนี้

\section{Second section}
Section 2 text.

\subsection{Subsection heading goes here}

Subsection 1 text

\subsubsection{Subsubsection 1 heading goes here}
Subsubsection 1 text

\subsubsection{Subsubsection 2 heading goes here}
Subsubsection 2 text

\section{Third section}
Section 3 text. The dielectric constant\index{dielectric constant}
at the air-metal interface determines
the resonance shift\index{resonance shift} as absorption or capture occurs
is shown in Equation~\eqref{eq:dielectric}:

\begin{equation}\label{eq:dielectric}
k_1=\frac{\omega}{c({1/\varepsilon_m + 1/\varepsilon_i})^{1/2}}=k_2=\frac{\omega
\sin(\theta)\varepsilon_\mathit{air}^{1/2}}{c}
\end{equation}

\noindent
where $\omega$ is the frequency of the plasmon, $c$ is the speed of
light, $\varepsilon_m$ is the dielectric constant of the metal,
$\varepsilon_i$ is the dielectric constant of neighboring insulator,
and $\varepsilon_\mathit{air}$ is the dielectric constant of air.

\section{About using figures in your report}

% define a command that produces some filler text, the lorem ipsum.
\newcommand{\loremipsum}{
  \textit{แม้งเอ้ย}\par}

\begin{figure}
  \centering

  \fbox{
     \parbox{.6\textwidth}{\loremipsum}
  }

  % To include an image in the figure, say myimage.pdf, you could use
  % the following code. Look up the documentation for the package
  % graphicx for more information.
  % \includegraphics[width=\textwidth]{myimage}

  \caption[Sample figure]{This figure is a sample containing \gls{lorem ipsum},
  showing you how you can include figures and glossary in your report.
  You can specify a shorter caption that will appear in the List of Figures.}
  \label{fig:sample-figure}
\end{figure}

Using \verb.\label. and \verb.\ref. commands allows us to refer to
figures easily. If we can refer to Figures
\ref{fig:walrus} and \ref{fig:sample-figure} by name in the {\LaTeX}
source code, then we will not need to update the code that refers to it
even if the placement or ordering of the figures changes.

\loremipsum\loremipsum

% This code demonstrates how to get a landscape table or figure. It
% uses the package lscape to turn everything but the page number into
% landscape orientation. Everything should be included within an
% \afterpage{ .... } to avoid causing a page break too early.
\afterpage{
  \begin{landscape}
  \begin{table}
    \caption{Sample landscape table}
    \label{tab:sample-table}

    \centering

    \begin{tabular}{c||c|c}
        Year & A & B \\
        \hline\hline
        1989 & 12 & 23 \\
        1990 & 4 & 9 \\
        1991 & 3 & 6 \\
    \end{tabular}
  \end{table}
  \end{landscape}
}

\loremipsum\loremipsum\loremipsum

\section{Overfull hbox}

When the \verb.semifinal. option is passed to the \verb.cpecmu. document class,
any line that is longer than the line width, i.e., an overfull hbox, will be
highlighted with a black solid rule:
\begin{center}
\begin{minipage}{2em}
juxtaposition
\end{minipage}
\end{center}

\section{\ifcpe%
ความรู้ตามหลักสูตรซึ่งถูกนำมาใช้หรือบูรณาการในโครงงาน
\else%
ISNE knowledge used, applied, or integrated in this project
\fi
}

อธิบายถึงความรู้ และแนวทางการนำความรู้ต่างๆ ที่ได้เรียนตามหลักสูตร ซึ่งถูกนำมาใช้ในโครงงาน

\section{\ifcpe%
ความรู้นอกหลักสูตรซึ่งถูกนำมาใช้หรือบูรณาการในโครงงาน
\else%
Extracurricular knowledge used, applied, or integrated in this project
\fi
}

อธิบายถึงความรู้ต่างๆ ที่เรียนรู้ด้วยตนเอง และแนวทางการนำความรู้เหล่านั้นมาใช้ในโครงงาน
